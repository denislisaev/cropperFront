<form class="card"
      [formGroup]="form"
      (ngSubmit)="onSubmit()"
>
  <div class="card-content">
    <span class="card-title">Создать аккаунт</span>
    <div class="input-field">
      <input
        formControlName = "email"
        id="email"
        type="email"
        [ngClass]="{'invalid': form.get('email')?.invalid && form.get('email')?.touched}"
      >
      <label for="email">Email:</label>
      <span
        class="helper-text red-text"
        *ngIf="form.get('email')?.invalid && form.get('email')?.touched"
      >
        <span *ngIf="form?.get('email')?.errors?.['required']">Поле 'Email' не должно быть пустым</span>
        <span *ngIf="form?.get('email')?.errors?.['email']">Введите корректный Email</span>
      </span>
    </div>
    <div class="input-field">
      <input
        formControlName = "username"
        id="username"
        type = "text"
        [ngClass]="{'invalid': form.get('username')?.invalid && form.get('username')?.touched}"
      >
      <label for="username">Логин:</label>
      <span
        class="helper-text red-text"
        *ngIf="form.get('username')?.invalid && form.get('username')?.touched"
      >
        <span *ngIf="form?.get('username')?.errors?.['required']">Поле 'Логин' не должно быть пустым</span>
      </span>
    </div>

    <div class="input-field">
      <input
        formControlName = "firstname"
        id="firstname"
        type = "text"
        [ngClass]="{'invalid': form.get('firstname')?.invalid && form.get('firstname')?.touched}"
      >
      <label for="firstname">Имя:</label>
      <span
        class="helper-text red-text"
        *ngIf="form.get('firstname')?.invalid && form.get('firstname')?.touched"
      >
        <span *ngIf="form?.get('firstname')?.errors?.['required']">Поле 'Имя' не должно быть пустым</span>
      </span>
    </div>

    <div class="input-field">
      <input
        formControlName = "lastname"
        id="lastname"
        type = "text"
        [ngClass]="{'invalid': form.get('lastname')?.invalid && form.get('lastname')?.touched}"
      >
      <label for="lastname">Фамилия:</label>
      <span
        class="helper-text red-text"
        *ngIf="form.get('lastname')?.invalid && form.get('lastname')?.touched"
      >
        <span *ngIf="form?.get('lastname')?.errors?.['required']">Поле 'Фамилия' не должно быть пустым</span>
      </span>
    </div>

    <div class="input-field">
      <input
        formControlName = "location"
        id="location"
        type = "text"
        [ngClass]="{'invalid': form.get('location')?.invalid && form.get('location')?.touched}"
      >
      <label for="location">Местонахождение:</label>
      <span
        class="helper-text red-text"
        *ngIf="form.get('location')?.invalid && form.get('location')?.touched"
      >
        <span *ngIf="form?.get('location')?.errors?.['required']">Поле 'Местонахождение' не должно быть пустым</span>
      </span>
    </div>

    <div class="input-field">
      <input
        formControlName = "password"
        id="password"
        type="password"
        [ngClass]="{'invalid': form.get('password')?.invalid && form.get('password')?.touched}"
      >
      <label for="password">Пароль:</label>
      <span
        class="helper-text red-text"
        *ngIf="form.get('password')?.invalid && form.get('password')?.touched"
      >
        <span *ngIf="form?.get('password')?.errors?.['required']">Поле 'пароль' не должно быть пустым</span>
        <span *ngIf="form?.get('password')?.errors?.['minlength']">
          Длина пароля должна быть больше {{form?.get('password')?.errors?.['minlength']?.['requiredLength']}} символов
        </span>
      </span>
    </div>

    <div class="input-field">
      <input
        formControlName = "confirmPassword"
        id="confirmPassword"
        type="password"
        [ngClass]="{'invalid': form.get('confirmPassword')?.invalid && form.get('confirmPassword')?.touched}"
      >
      <label for="confirmPassword">Повторите пароль:</label>
      <span
        class="helper-text red-text"
        *ngIf="form.get('confirmPassword')?.invalid && form.get('confirmPassword')?.touched"
      >
        <span *ngIf="form?.get('confirmPassword')?.errors?.['required']">Поле с повторным паролем не должно быть пустым</span>
        <span *ngIf="form?.get('confirmPassword')?.errors?.['minlength']">
          Длина пароля должна быть больше {{form?.get('confirmPassword')?.errors?.['minlength']?.['requiredLength']}} символов
        </span>
        <span *ngIf="form?.get('confirmPassword')?.errors?.['matching']">
          Пароли не совпадают!
        </span>
      </span>
    </div>

  </div>
  <div class="card-action">
    <button
      class="modal-action btn waves-effect"
      type="submit"
      [disabled]="form.invalid || form.disabled"
    >
      Зарегистрироваться
    </button>
  </div>
</form>

